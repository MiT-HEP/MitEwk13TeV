#include <stdio.h>
#include <iostream>
#include <string>
#include <vector>
#include <math.h>

#include "TH1D.h"
#include "TH2D.h"
#include "TProfile.h"
#include "TGraph.h"
#include "TFile.h"
#include "TF1.h"
#include "TCanvas.h"
#include "TStyle.h"
#include "TMinuit.h"

const int NBpt  = 3;
const int NBeta = 12;
const float ptrange[NBpt+1]   = {25., 40., 55, 8000.};
const float etarange[NBeta+1] = {-2.5, -2.0, -1.566, -1.4442, -1., -0.5, 0, 0.5, 1., 1.4442, 1.566, 2.0, 2.5};
/*const float GsfSelBkgSys[NBpt*NBeta] = {0.53, 0.40, 0.00, 0.05, 0.15, 0.27, 0.04, 0.14, 0.69, 0.00, 0.38, 0.46,
			       0.04, 0.46, 0.00, 0.25, 0.13, 0.03, 0.11, 0.00, 0.05, 0.00, 0.21, 0.10,
			       0.01, 0.73, 0.00, 0.43, 0.19, 0.23, 0.13, 0.30, 0.36, 0.00, 0.36, 0.19};
*/
/*
const float GsfSelSigSys[NBpt*NBeta] = {2.79, 1.08, 1.95, 0.35, 3.35, 1.38, 0.50, 3.50, 2.27, 2.05,
					0.88, 0.79, 1.09, 0.67, 0.99, 2.14, 0.81, 1.45, 0.60, 0.37,
					1.96, 1.79, 1.72, 1.72, 1.61, 1.53, 1.39, 0.94, 4.59, 2.17};
const float GsfSelBkgSys[NBpt*NBeta] = {3.14, 3.57, 3.00, 2.81, 3.49, 2.33, 2.22, 3.29, 1.56, 3.22,
					1.01, 0.86, 0.66, 0.42, 0.58, 1.16, 0.50, 1.19, 0.78, 0.77,
					1.35, 0.59, 0.51, 0.47, 0.31, 0.43, 0.21, 0.12, 1.68, 1.05};
*/
/*
const float GsfSelSigSys[NBpt*NBeta] = {1.13, 2.76, 0.00, 2.28, 1.44, 0.06, 2.09, 2.15, 2.81, 0.00, 2.11, 2.42,
					0.85, 0.60, 0.00, 1.05, 0.90, 0.82, 0.93, 0.69, 0.25, 0.00, 0.14, 2.26,
					2.03, 1.11, 0.00, 1.03, 1.59, 2.08, 2.72, 1.25, 1.30, 0.00, 1.48, 1.51}; 

const float GsfSelBkgSys[NBpt*NBeta] = {1.38, 0.45, 0.00, 0.05, 0.23, 2.43, 2.14, 2.14, 2.64, 0.00, 0.28, 3.86,
					0.96, 0.63, 0.00, 0.36, 0.53, 0.62, 0.64, 0.59, 0.20, 0.00, 0.06, 0.89,
					1.25, 0.34, 0.00, 0.19, 0.42, 0.52, 0.20, 0.31, 0.28, 0.00, 0.98, 1.09};
*/
const float GsfSelSigSys[NBpt*NBeta] = {
0.92, 0.60, 0.0, 1.46, 1.34, 1.22, 1.41, 1.33, 1.31, 0.0, 0.61, 1.49,
0.82, 0.60, 0.0, 0.88, 0.86, 0.82, 0.79, 0.51, 0.95, 0.0, 0.73, 0.86,
0.92, 0.91, 0.0, 0.74, 0.65, 0.81, 1.26, 0.50, 0.33, 0.0, 1.40, 0.86
};
const float GsfSelBkgSys[NBpt*NBeta] = {
0.139803
,
0.0429305
,
0.0
,
0.37371
,
0.0885377
,
0.223254
,
0.284145
,
0.184749
,
0.210978
,
0.0
,
0.0488517
,
0.016769
,
0.00057539
,
0.0135502
,
0.0
,
0.0377503
,
0.0992257
,
0.348544
,
0.0313661
,
0.0912089
,
0.0867867
,
0.0
,
0.00663507
,
0.320048
,
1.44093
,
0.341554
,
0.0
,
0.785209
,
0.631178
,
0.664294
,
0.391222
,
0.368603
,
0.167297
,
0.0
,
1.1497
,
1.25095
};

void makeTH2DEle(){

	TH2D *h = new TH2D("h","", NBeta, etarange, NBpt, ptrange);

	for(int ieta=0; ieta<NBeta; ieta++){
		if(ieta==2||ieta==9) continue;

		for(int ipt=0; ipt<NBpt; ipt++){
			h->SetBinContent(ieta+1, ipt+1, 1.+GsfSelSigSys[ipt*NBeta+ieta]*0.01);
		}
	}

	TFile *f = new TFile("EleGsfSelSigSys.root", "RECREATE");
	h->Write();
	f->Close();
}
